import{c as p}from"./cartStore-32f01f68.js";import{_ as y,m,a as g,r as u,o as a,c as n,b as e,d as c,w as _,F as f,g as v,t as s,e as b,f as d}from"./index-a4fe411b.js";const w={data(){return{flatpickrConfig:{wrap:!0,altInput:!0,minDate:"today",dateFormat:"Y-m-d",disable:[function(o){return o.getDay()===4}]}}},computed:{...m(p,["carts","cartLength","cartStatus","cartTotal","orderStatus"])},methods:{...g(p,["getCartList","removeCartItem","removeAllCart","updateItemQty","updateItemDate","changeStatus"])},mounted(){this.getCartList(),this.changeStatus("cartlist")}},x={class:"container mb-max"},C={key:0,class:"text-center"},B=e("p",{class:"mb-3"},"購物車內還沒有商品，快去選購吧！",-1),A={key:1,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 gy-4 gx-lg-4"},I={class:"card h-100 overflow-hidden position-relative"},$={class:"card-header bg-primary d-flex justify-content-between align-items-center"},q={class:"card-title fw-blod ellipsis2 mb-0 me-2"},S=["onClick"],V={class:"card-body"},L={class:"mb-3 d-flex align-items-center"},D={for:"adult-ticket",class:"form-label w-100 mb-0 me-4"},j=e("br",null,null,-1),Q={class:"text-secondary"},T={class:"d-flex justify-content-end"},N={type:"button",class:"border-0 bg-white fs-6"},F=["value"],P={type:"button",class:"border-0 bg-white fs-6"},R={key:0,class:"d-flex align-items-center"},U={for:"adult-ticket",class:"form-label w-100 mb-0 me-4"},E=e("br",null,null,-1),W={class:"text-secondary"},Y={class:"d-flex justify-content-end"},z={type:"button",class:"border-0 bg-white fs-6"},G=["value"],H={type:"button",class:"border-0 bg-white fs-6"},J={class:"card-footer text-end bg-white border-top-0"},K={class:"fs-7 text-secondary"},M={class:"fs-5 fw-blod ms-1 text-black"},O={key:0,class:"container mb-3 mb-lg-5"},X={class:"row justify-content-center justify-content-lg-end"},Z={class:"col-lg-5 text-center text-lg-end"},tt={class:"mb-3"},et={class:"d-flex"},ot={class:"me-2 w-50"},st={class:"w-50"};function ct(o,rt,at,nt,k,dt){const i=u("RouterLink"),l=u("font-awesome-icon"),h=u("flatPickr");return a(),n(f,null,[e("section",x,[o.cartStatus?(a(),n("div",A,[(a(!0),n(f,null,v(o.carts.carts,t=>(a(),n("div",{class:"col",key:t.id},[e("div",I,[e("div",$,[e("h5",q,s(t.product.title),1),e("button",{type:"button",onClick:r=>o.removeCartItem(t.id),class:"btn link-dark fs-5"},[c(l,{icon:"fa-solid fa-trash-can"})],8,S)]),e("div",V,[c(h,{class:"form-control flatpickr flatpickr-input fs-5 text-center mb-2",placeholder:"請選擇使用日期",id:"date",modelValue:t.date,"onUpdate:modelValue":r=>t.date=r,config:k.flatpickrConfig,onChange:r=>o.updateItemDate(t.id,t.product_id,t.date)},null,8,["modelValue","onUpdate:modelValue","config","onChange"]),e("ul",null,[e("li",L,[e("label",D,[d(s(t.product.ticketA),1),j,e("span",Q,"$ "+s(t.product.ticketA_price)+"/"+s(t.product.unit),1)]),e("div",T,[e("button",N,[c(l,{icon:"fa-solid fa-minus",class:"border-primary border border-2 text-dark rounded-circle p-1",onClick:r=>o.updateItemQty(t.id,t.product_id,t.ticketA_qty-1,t.ticketB_qty,t.product.ticketA_price,t.product.ticketB_price)},null,8,["onClick"])]),e("input",{readonly:"",type:"text",name:"adult-ticket",id:"adult-ticket",class:"form-control w-25 border-0 mx-1 mb-1 p-0 fs-3 text-center",value:t.ticketA_qty},null,8,F),e("button",P,[c(l,{icon:"fa-solid fa-plus",class:"border-primary border border-2 text-dark rounded-circle p-1",onClick:r=>o.updateItemQty(t.id,t.product_id,t.ticketA_qty+1,t.ticketB_qty,t.product.ticketA_price,t.product.ticketB_price)},null,8,["onClick"])])])]),t.product.ticketB?(a(),n("li",R,[e("label",U,[d(s(t.product.ticketB),1),E,e("span",W,"$ "+s(t.product.ticketB_price)+"/"+s(t.product.unit),1)]),e("div",Y,[e("button",z,[c(l,{icon:"fa-solid fa-minus",class:"border-primary border border-2 text-dark rounded-circle p-1",onClick:r=>o.updateItemQty(t.id,t.product_id,t.ticketA_qty,t.ticketB_qty-1,t.product.ticketA_price,t.product.ticketB_price)},null,8,["onClick"])]),e("input",{readonly:"",type:"text",name:"adult-ticket",id:"adult-ticket",class:"form-control w-25 border-0 mx-1 mb-1 p-0 fs-3 text-center",value:t.ticketB_qty},null,8,G),e("button",H,[c(l,{icon:"fa-solid fa-plus",class:"border-primary border border-2 text-dark rounded-circle p-1",onClick:r=>o.updateItemQty(t.id,t.product_id,t.ticketA_qty,t.ticketB_qty+1,t.product.ticketA_price,t.product.ticketB_price)},null,8,["onClick"])])])])):b("",!0)])]),e("div",J,[e("p",K,[d(" TWD"),e("span",M,s(t.cartItemTotal),1)])])])]))),128))])):(a(),n("div",C,[B,c(i,{to:"/",class:"btn btn-primary text-dark w-50 fs-5"},{default:_(()=>[d("開始購物")]),_:1})]))]),o.cartStatus?(a(),n("div",O,[e("div",X,[e("div",Z,[e("div",tt,[e("span",null,s(o.cartLength)+"件商品",1),e("span",null,"總共"+s(o.cartTotal)+"元",1)]),e("ul",et,[e("li",ot,[c(i,{to:"/",class:"btn btn-outline-primary text-dark w-100"},{default:_(()=>[d("繼續購物")]),_:1})]),e("li",st,[c(i,{to:"/cart/info",class:"btn btn-primary text-dark w-100"},{default:_(()=>[d("前往結帳")]),_:1})])])])])])):b("",!0)],64)}const ut=y(w,[["render",ct]]);export{ut as default};
