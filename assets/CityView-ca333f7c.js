import{p}from"./productStore-8b619c13.js";import{m as x,a as k,_ as g,r as a,o as n,b as r,e as u,d as e,i as l,t as d,E as _,G as C,H as P,n as T,I as L,F as m,h as y,g as V,w as K,f as S}from"./index-f35bbac0.js";const B={data(){return{color:"#ffdf65",fullPage:!1,city:{title:"",engTitle:""},renderProduct:[],keyword:"",categories:["活動","美食","住宿","交通","景點"],category:""}},computed:{...x(p,["enableProducts","cityProducts","isLoading"])},methods:{...k(p,["getEnableProduct","getCityProduct","toThousand"]),selectCity(s){s==="taipei"?(this.city.title="台北",this.city.engTitle="taipei"):s==="penghu"?(this.city.title="澎湖",this.city.engTitle="penghu"):s==="liuqiu"&&(this.city.title="小琉球",this.city.engTitle="liuqiu")},searchKeyword(){this.renderProduct=this.cityProducts.filter(s=>s.title.match(this.keyword)),this.keyword===""&&(this.renderProduct=this.cityProducts)},selectCategory(){this.renderProduct=this.cityProducts.filter(s=>s.category.match(this.category))}},watch:{enableProducts(){this.getCityProduct(this.city.title),this.renderProduct=this.cityProducts}},mounted(){const s=this.$route.params.name;this.selectCity(s),this.getEnableProduct()}},E={class:"row my-auto page-banner-title"},M={class:"col"},N={class:"text-center mb-3 mb-md-4 text-white page-banner-text-shadow fs-1"},U=e("span",{class:"raleway me-2"},"Welcome To",-1),D={class:"d-flex rounded-pill bg-white px-2 py-0 py-sm-1 shadow"},H=["placeholder"],j={class:"container"},q={class:"row"},F={class:"col-md-3 mb-3"},R={action:"",class:"border border-primary border-1 p-3 rounded-1 sidebar-sticky"},W=e("p",{class:"mb-1"},"篩選分類",-1),z={class:"form-check ps-0"},A=e("option",{value:"",selected:"",disabled:"",class:"text-muted"}," 請選擇類別 ",-1),G=["value"],I={class:"col-md-9"},O={key:0,style:{height:"200px"},class:"d-flex flex-column justify-content-center align-items-center mb-5"},J=e("p",{class:"raleway display-1 fw-bold text-primary"},"Oh ...",-1),Q={key:0},X={class:"text-danger fw-bold mx-1"},Y=e("br",null,null,-1),Z={key:1,class:"mb-5"},$={class:"row g-0 align-items-center"},ee={class:"col-4"},te=["src"],se={class:"col-8"},oe={class:"card-body px-2 py-1 px-lg-3 py-lg-2"},ie={class:"card-title fw-bold ellipsis2 mb-2"},ne=["innerHTML"],re={class:"card-text fs-7 text-end text-secondary"},ce={class:"fs-5 fw-bold mx-1 text-black"};function le(s,i,f,b,o,c){const h=a("VeeLoading"),w=a("font-awesome-icon"),v=a("RouterLink");return n(),r(m,null,[u(h,{active:s.isLoading,"onUpdate:active":i[0]||(i[0]=t=>s.isLoading=t),color:o.color,"is-full-page":o.fullPage},null,8,["active","color","is-full-page"]),e("header",{class:T(["page-banner-section d-flex flex-column align-items-center mb-5 position-relative",`page-banner-section-${o.city.engTitle}`])},[e("div",E,[e("div",M,[e("h2",N,[U,l(" "+d(o.city.title),1)]),e("form",null,[e("div",D,[_(e("input",{class:"form-control pe-5 border-0",type:"text",placeholder:"輸入景點名稱... ","aria-label":"Search","onUpdate:modelValue":i[1]||(i[1]=t=>o.keyword=t),onKeyup:i[2]||(i[2]=P((...t)=>c.searchKeyword&&c.searchKeyword(...t),["enter"]))},null,40,H),[[C,o.keyword]]),e("button",{type:"button",class:"border-0 bg-white",onClick:i[3]||(i[3]=(...t)=>c.searchKeyword&&c.searchKeyword(...t))},[u(w,{icon:"fa-solid fa-magnifying-glass"})])])])])])],2),e("section",j,[e("div",q,[e("div",F,[e("form",R,[W,e("div",z,[_(e("select",{class:"form-select border-primary",onChange:i[4]||(i[4]=(...t)=>c.selectCategory&&c.selectCategory(...t)),"onUpdate:modelValue":i[5]||(i[5]=t=>o.category=t)},[A,(n(!0),r(m,null,y(o.categories,t=>(n(),r("option",{key:t,value:t},d(t),9,G))),128))],544),[[L,o.category]])])])]),e("div",I,[o.renderProduct.length===0?(n(),r("div",O,[J,o.keyword?(n(),r("p",Q,[l(" 目前沒有『"),e("span",X,d(o.keyword),1),l("』的相關商品"),Y,l("請查詢其他關鍵字 ")])):V("",!0)])):(n(),r("ul",Z,[(n(!0),r(m,null,y(o.renderProduct,t=>(n(),r("li",{class:"card overflow-hidden mb-2",key:t.id},[u(v,{to:`/product/${t.id}`},{default:K(()=>[e("div",$,[e("div",ee,[e("img",{src:t.imageUrl,class:"img-fluid product-item-hover overflow-hidden object-fit-cover card-img-height",alt:"pic"},null,8,te)]),e("div",se,[e("div",oe,[e("h5",ie,d(t.title),1),e("p",{class:"ellipsis2 mb-2",innerHTML:t.description},null,8,ne),e("p",re,[l(" TWD"),e("span",ce,d(s.toThousand(t.price)),1),l("起 ")])])])])]),_:2},1032,["to"])]))),128))]))])])])],64)}const de=g(B,[["render",le]]),ae={components:{CityComponent:de}};function he(s,i,f,b,o,c){const h=a("CityComponent");return n(),S(h)}const pe=g(ae,[["render",he]]);export{pe as default};
